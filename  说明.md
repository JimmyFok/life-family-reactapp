# 生活这一家
> 使用react创建一个app

## 1、素材路径问题
> 因为基于webpack编译，所以本来的相对路径必须进行转译操作。原理请参考：http://www.ruanyifeng.com/blog/2015/05/require.html

- 在js组件环境下用`require('路径')`

亲测如果在类render(){}或者JSX中使用都会有问题。

- JSX行内样式必须是对象

直接写时  <div style={{height: 100px}}>

引入变量时,建议
const style = { height: 100px } 
<div style={style}>

- 注意style变量必须用驼峰法的样式名，值基本不是数字就是字符串吗，还有记得是逗号分割

## 打开jsx支持补全html标签的设置
软件设置中搜索emmet.includeLanguages，增加到用户设置中。增加内容如下
```js
"emmet.includeLanguages": {
    "javascript": "javascriptreact"
}
```
这样就可以畅快的写jsx了。


## 2、React-router最新版使用方法

https://reacttraining.com/react-router/web/guides/quick-start

更应该的是`react-router-dom`

参考如下：http://react-china.org/t/react-router4/15843

exact是精准的，所以 “/” 目录的应该是用到它。

## 3、map来实现v-for时，key不是props，所以需要另外增加这个

## 4、react中引用图片问题

### 方法一：
<img src={require('../img/xx.png')} alt="" />

### 方法二：
import search from '../img/search.png'
import user from '../img/user.png'

<img src={search} alt="" />
<img src={user} alt="" />

### 方法三：
<img src='http://localhost:3000/my-project/src/img/icon1.png' alt="" />

### 背景图片引用方法
const divStyle = {
  color: 'red',
  backgroundImage: 'url(' + imgUrl + ')',
  // 或者 background: `url${require("1.jpg")}`
};

function HelloWorldComponent() {
  return <div style={divStyle}>Hello World!</div>;
}

注意～～拼接的路径require居然不行。。。

```js
const baseUrl = "../assets/img/"
const adState = [
    {
        imgsrc: baseUrl + "home-ad-1.png",
        title: "【10月抢购预告】 荣耀乐檬大神爆款 惊爆价"
    },
    {
        imgsrc: baseUrl + "home-ad-2.png",
        title: "【劲爆开抢】 宝洁大礼包优惠前所未有"
    },
    {
        imgsrc: baseUrl + "home-ad-3.png",
        title: "【神价再现】 GOD PRICE 华丽上市"
    }
]
```

但是改成这样又可以了
```js
const baseUrl = "assets/img/"
const adState = [
    {
        imgsrc: require("../"+ baseUrl + "home-ad-1.png"),
        title: "【10月抢购预告】 荣耀乐檬大神爆款 惊爆价"
    },
    {
        imgsrc: require("../"+ baseUrl + "home-ad-2.png"),
        title: "【劲爆开抢】 宝洁大礼包优惠前所未有"
    },
    {
        imgsrc: require("../"+ baseUrl + "home-ad-3.png"),
        title: "【神价再现】 GOD PRICE 华丽上市"
    }
]
```
这应该是已经将路径当作是引入模块了。


### 5、引入了Font Awesome库
> https://fontawesome.com/how-to-use/on-the-web/using-with/react


1、安装模块
```js
npm i --save @fortawesome/fontawesome-svg-core
npm i --save @fortawesome/free-solid-svg-icons
npm i --save @fortawesome/react-fontawesome
```
2、在如下网站找到需要的图标名字，例如home，那么就用faHome

https://fontawesome.com/icons?d=gallery 这里查免费的图标

```js
// 组件内引用
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faHome } from '@fortawesome/free-solid-svg-icons'

...
<FontAwesomeIcon icon={faHome} />
...
```

6、react-router路由传参数
> 参考： https://blog.csdn.net/qq20004604/article/details/79440416

React路由取参数，有两种：
?a=1 ：这种属于 search 字符串，在 location.search 里取值；
/a/123 ：这种需要从 match.params里取值；
但无论哪种，路由获取到的值，是跳转后的那一刻的值，而不是实时更新的最新值。


ps: match.url能去url值